{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<div class="flex justify-center items-center h-screen cursor-windows-xp">
    <form action="{{ path('app_login') }}" method="post" id="loginForm" class="bg-[#f0f0f0] border border-gray-500 shadow-[4px_4px_0px_rgba(0,0,0,0.4)] w-[360px]">
        <div class="bg-[#000080] px-2 py-1 text-white flex justify-between items-center">
            <span class="text-sm font-bold">Connexion</span>
            <button type="button" id="closeBtn" class="bg-[#c0c0c0] border border-black w-5 h-5 text-xs font-bold text-black shadow-[inset_-1px_-1px_0_#fff,inset_1px_1px_0_#404040]">X</button>
        </div>

        <div class="p-4 flex flex-col gap-3">
            <label for="username" class="text-sm text-black">Nom d'utilisateur :</label>
            <input type="text" id="username" name="_username" value="{{ last_username }}" required
                class="w-full px-2 py-1 border border-gray-500 bg-[#ffffff] text-black shadow-[inset_-1px_-1px_0_#fff,inset_1px_1px_0_#404040] focus:outline-none">

            <label for="password" class="text-sm text-black">Mot de passe :</label>
            <input type="password" id="password" name="_password" required
                class="w-full px-2 py-1 border border-gray-500 bg-[#ffffff] text-black shadow-[inset_-1px_-1px_0_#fff,inset_1px_1px_0_#404040] focus:outline-none">

            <input type="hidden" name="_csrf_token" data-controller="csrf-protection" value="{{ csrf_token('authenticate') }}">

            <button type="submit"
                class="mt-2 w-fit px-4 py-1 text-sm bg-[#c0c0c0] border border-black text-black shadow-[inset_-1px_-1px_0_#fff,inset_1px_1px_0_#404040]">
                Connexion
            </button>

            {% if error %}
                <div class="mt-2 flex items-start gap-2">
                    <img class="w-6 h-6 mt-0.5" src="https://64.media.tumblr.com/b22e49d8f52d0e90857458021399339d/63c60cacbd7469c6-f8/s540x810/672e574b011045df3ff463ddc3ddc98f88725fbd.png" alt="Erreur">
                    <p class="text-sm text-red-600">{{ error.messageKey|trans(error.messageData, 'security') }}</p>
                </div>
            {% endif %}

            <a href="{{ path('app_register') }} "
               class="text-sm text-[#000080] underline-offset-2 hover:underline mt-1">Je n'ai pas de compte</a>
        </div>
    </form>
</div>
{% endblock %}
